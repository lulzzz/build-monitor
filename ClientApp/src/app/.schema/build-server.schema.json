{
  "uri": "http://example.com/profile-schema.json",
  "fileMatch": ["*"],
  "schema": {
    "oneOf": [
      { "$ref": "#/definitions/teamCityBuildServer" }
    ],
    "definitions": {
      "buildServerType": {
        "type": "string",
        "enum": ["teamCity", "jenkins"]
      },
      "name": {
        "type":  "string",
        "pattern": "^[\\w.]*$"
      },
      "teamCityBuildServer": {
        "type": "object",
        "properties": {
          "name": { "$ref": "#/definitions/name" },
          "type": { "$ref": "#/definitions/buildServerType" },
          "url": {
            "type": "string",
            "pattern": "^http:\\/\\/[a-zA-Z0-9_\\-]+\\.[a-zA-Z0-9_\\-]+\\.[a-zA-Z0-9_\\-]+$"
          },
          "guestLogin": { "type": "boolean" }
        },
        "required": ["name","type","url", "guestLogin"]
      }
    }
  }
}
